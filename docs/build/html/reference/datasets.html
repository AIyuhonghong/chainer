

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dataset examples &mdash; Chainer 2.0.0b1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/modified_theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Chainer 2.0.0b1 documentation" href="../index.html"/>
        <link rel="up" title="Chainer Reference Manual" href="index.html"/>
        <link rel="next" title="Iterator examples" href="iterators.html"/>
        <link rel="prev" title="Weight Initializers" href="initializers.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Chainer
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0b1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Chainer Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Chainer Reference Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="check.html">Assertion and Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Standard Function implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="links.html">Standard Link implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizers.html">Optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="serializers.html">Serializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="function_hooks.html">Function hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="initializers.html">Weight Initializers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dataset examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-datasets">General datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dictdataset">DictDataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tupledataset">TupleDataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subdataset">SubDataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#imagedataset">ImageDataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#labeledimagedataset">LabeledImageDataset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#concrete-datasets">Concrete datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mnist">MNIST</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cifar10-100">CIFAR10/100</a></li>
<li class="toctree-l4"><a class="reference internal" href="#penn-tree-bank">Penn Tree Bank</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="iterators.html">Iterator examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="extensions.html">Trainer extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="triggers.html">Trainer triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="caffe.html">Caffe Reference Model Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph.html">Visualization of Computational Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment.html">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribution.html">Chainer Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compatibility.html">API Compatibility Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tips.html">Tips and FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../comparison.html">Comparison with Other Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chainer</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Chainer Reference Manual</a> &raquo;</li>
        
      <li>Dataset examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/datasets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-chainer.datasets"></span><div class="section" id="dataset-examples">
<span id="datasets"></span><h1>Dataset examples<a class="headerlink" href="#dataset-examples" title="Permalink to this headline">¶</a></h1>
<p>The most basic <a class="reference internal" href="core/dataset.html#module-chainer.dataset" title="chainer.dataset"><code class="xref py py-mod docutils literal"><span class="pre">dataset</span></code></a> implementation is an array.
Both NumPy and CuPy arrays can be used directly as datasets.</p>
<p>In many cases, though, the simple arrays are not enough to write the training procedure.
In order to cover most of such cases, Chainer provides many built-in implementations of datasets.</p>
<p>These built-in datasets are divided into two groups.
One is a group of general datasets.
Most of them are wrapper of other datasets to introduce some structures (e.g., tuple or dict) to each data point.
The other one is a group of concrete, popular datasets.
These concrete examples use the downloading utilities in the <a class="reference internal" href="core/dataset.html#module-chainer.dataset" title="chainer.dataset"><code class="xref py py-mod docutils literal"><span class="pre">chainer.dataset</span></code></a> module to cache downloaded and converted datasets.</p>
<div class="section" id="general-datasets">
<h2>General datasets<a class="headerlink" href="#general-datasets" title="Permalink to this headline">¶</a></h2>
<p>General datasets are further divided into three types.</p>
<p>The first one is <a class="reference internal" href="#chainer.datasets.DictDataset" title="chainer.datasets.DictDataset"><code class="xref py py-class docutils literal"><span class="pre">DictDataset</span></code></a> and <a class="reference internal" href="#chainer.datasets.TupleDataset" title="chainer.datasets.TupleDataset"><code class="xref py py-class docutils literal"><span class="pre">TupleDataset</span></code></a>, both of which combine other datasets and introduce some structures on them.</p>
<p>The second one is <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a>, which represents a subset of an existing dataset. It can be used to separate a dataset for hold-out validation or cross validation. Convenient functions to make random splits are also provided.</p>
<p>The last one is a group of domain-specific datasets. Currently, <a class="reference internal" href="#chainer.datasets.ImageDataset" title="chainer.datasets.ImageDataset"><code class="xref py py-class docutils literal"><span class="pre">ImageDataset</span></code></a> and <a class="reference internal" href="#chainer.datasets.LabeledImageDataset" title="chainer.datasets.LabeledImageDataset"><code class="xref py py-class docutils literal"><span class="pre">LabeledImageDataset</span></code></a> are provided for datasets of images.</p>
<div class="section" id="dictdataset">
<h3>DictDataset<a class="headerlink" href="#dictdataset" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chainer.datasets.DictDataset">
<em class="property">class </em><code class="descclassname">chainer.datasets.</code><code class="descname">DictDataset</code><span class="sig-paren">(</span><em>**datasets</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/dict_dataset.html#DictDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.DictDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of a dictionary of datasets.</p>
<p>It combines multiple datasets into one dataset. Each example is represented
by a dictionary mapping a key to an example of the corresponding dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datasets</strong> – Underlying datasets. The keys are used as the keys of each
example. All datasets must have the same length.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="tupledataset">
<h3>TupleDataset<a class="headerlink" href="#tupledataset" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chainer.datasets.TupleDataset">
<em class="property">class </em><code class="descclassname">chainer.datasets.</code><code class="descname">TupleDataset</code><span class="sig-paren">(</span><em>*datasets</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/tuple_dataset.html#TupleDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.TupleDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of a tuple of datasets.</p>
<p>It combines multiple datasets into one dataset. Each example is represented
by a tuple whose <code class="docutils literal"><span class="pre">i</span></code>-th item corresponds to the i-th dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datasets</strong> – Underlying datasets. The <code class="docutils literal"><span class="pre">i</span></code>-th one is used for the
<code class="docutils literal"><span class="pre">i</span></code>-th item of each example. All datasets must have the same
length.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="subdataset">
<h3>SubDataset<a class="headerlink" href="#subdataset" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chainer.datasets.SubDataset">
<em class="property">class </em><code class="descclassname">chainer.datasets.</code><code class="descname">SubDataset</code><span class="sig-paren">(</span><em>dataset</em>, <em>start</em>, <em>finish</em>, <em>order=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/sub_dataset.html#SubDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.SubDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of a base dataset.</p>
<p>SubDataset defines a subset of a given base dataset. The subset is defined
as an interval of indexes, optionally with a given permutation.</p>
<p>If <code class="docutils literal"><span class="pre">order</span></code> is given, then the <code class="docutils literal"><span class="pre">i</span></code>-th example of this dataset is the
<code class="docutils literal"><span class="pre">order[start</span> <span class="pre">+</span> <span class="pre">i]</span></code>-th example of the base dataset, where <code class="docutils literal"><span class="pre">i</span></code> is a
non-negative integer. If <code class="docutils literal"><span class="pre">order</span></code> is not given, then the <code class="docutils literal"><span class="pre">i</span></code>-th example
of this dataset is the <code class="docutils literal"><span class="pre">start</span> <span class="pre">+</span> <span class="pre">i</span></code>-th example of the base dataset.
Negative indexing is also allowed: in this case, the term <code class="docutils literal"><span class="pre">start</span> <span class="pre">+</span> <span class="pre">i</span></code> is
replaced by <code class="docutils literal"><span class="pre">finish</span> <span class="pre">+</span> <span class="pre">i</span></code>.</p>
<p>SubDataset is often used to split a dataset into training and validation
subsets. The training set is used for training, while the validation set is
used to track the generalization performance, i.e. how the learned model
works well on unseen data. We can tune hyperparameters (e.g. number of
hidden units, weight initializers, learning rate, etc.) by comparing the
validation performance. Note that we often use another set called test set
to measure the quality of the tuned hyperparameter, which can be made by
nesting multiple SubDatasets.</p>
<p>There are two ways to make training-validation splits. One is a single
split, where the dataset is split just into two subsets. It can be done by
<a class="reference internal" href="#chainer.datasets.split_dataset" title="chainer.datasets.split_dataset"><code class="xref py py-func docutils literal"><span class="pre">split_dataset()</span></code></a> or <a class="reference internal" href="#chainer.datasets.split_dataset_random" title="chainer.datasets.split_dataset_random"><code class="xref py py-func docutils literal"><span class="pre">split_dataset_random()</span></code></a>. The other one is a
<span class="math">\(k\)</span>-fold cross validation, in which the dataset is divided into
<span class="math">\(k\)</span> subsets, and <span class="math">\(k\)</span> different splits are generated using each
of the <span class="math">\(k\)</span> subsets as a validation set and the rest as a training
set. It can be done by <a class="reference internal" href="#chainer.datasets.get_cross_validation_datasets" title="chainer.datasets.get_cross_validation_datasets"><code class="xref py py-func docutils literal"><span class="pre">get_cross_validation_datasets()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataset</strong> – Base dataset.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The first index in the interval.</li>
<li><strong>finish</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The next-to-the-last index in the interval.</li>
<li><strong>order</strong> (<em>sequence of ints</em>) – Permutation of indexes in the base dataset.
If this is <code class="docutils literal"><span class="pre">None</span></code>, then the ascending order of indexes is used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.split_dataset">
<code class="descclassname">chainer.datasets.</code><code class="descname">split_dataset</code><span class="sig-paren">(</span><em>dataset</em>, <em>split_at</em>, <em>order=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/sub_dataset.html#split_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.split_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a dataset into two subsets.</p>
<p>This function creates two instances of <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a>. These instances
do not share any examples, and they together cover all examples of the
original dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> – Dataset to split.</li>
<li><strong>split_at</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Position at which the base dataset is split.</li>
<li><strong>order</strong> (<em>sequence of ints</em>) – Permutation of indexes in the base dataset.
See the document of <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a> for details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>Two <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a> objects. The first subset represents the</dt>
<dd><p class="first last">examples of indexes <code class="docutils literal"><span class="pre">order[:split_at]</span></code> while the second subset
represents the examples of indexes <code class="docutils literal"><span class="pre">order[split_at:]</span></code>.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.split_dataset_random">
<code class="descclassname">chainer.datasets.</code><code class="descname">split_dataset_random</code><span class="sig-paren">(</span><em>dataset</em>, <em>first_size</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/sub_dataset.html#split_dataset_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.split_dataset_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a dataset into two subsets randomly.</p>
<p>This function creates two instances of <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a>. These instances
do not share any examples, and they together cover all examples of the
original dataset. The split is automatically done randomly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> – Dataset to split.</li>
<li><strong>first_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Size of the first subset.</li>
<li><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Seed the generator used for the permutation of indexes.
If an integer beging convertible to 32 bit unsigned integers is
specified, it is guaranteed that each sample
in the given dataset always belongs to a specific subset.
If <code class="docutils literal"><span class="pre">None</span></code>, the permutation is changed randomly.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>Two <a class="reference internal" href="#chainer.datasets.SubDataset" title="chainer.datasets.SubDataset"><code class="xref py py-class docutils literal"><span class="pre">SubDataset</span></code></a> objects. The first subset contains</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">first_size</span></code> examples randomly chosen from the dataset without
replacement, and the second subset contains the rest of the
dataset.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.get_cross_validation_datasets">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_cross_validation_datasets</code><span class="sig-paren">(</span><em>dataset</em>, <em>n_fold</em>, <em>order=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/sub_dataset.html#get_cross_validation_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_cross_validation_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a set of training/test splits for cross validation.</p>
<p>This function generates <code class="docutils literal"><span class="pre">n_fold</span></code> splits of the given dataset. The first
part of each split corresponds to the training dataset, while the second
part to the test dataset. No pairs of test datasets share any examples, and
all test datasets together cover the whole base dataset. Each test dataset
contains almost same number of examples (the numbers may differ up to 1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> – Dataset to split.</li>
<li><strong>n_fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of splits for cross validation.</li>
<li><strong>order</strong> (<em>sequence of ints</em>) – Order of indexes with which each split is
determined. If it is <code class="docutils literal"><span class="pre">None</span></code>, then no permutation is used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of dataset splits.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of tuples</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.get_cross_validation_datasets_random">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_cross_validation_datasets_random</code><span class="sig-paren">(</span><em>dataset</em>, <em>n_fold</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/sub_dataset.html#get_cross_validation_datasets_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_cross_validation_datasets_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a set of training/test splits for cross validation randomly.</p>
<p>This function acts almost same as <code class="xref py py-func docutils literal"><span class="pre">get_cross_validation_dataset()</span></code>,
except automatically generating random permutation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset</strong> – Dataset to split.</li>
<li><strong>n_fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of splits for cross validation.</li>
<li><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Seed the generator used for the permutation of indexes.
If an integer beging convertible to 32 bit unsigned integers is
specified, it is guaranteed that each sample
in the given dataset always belongs to a specific subset.
If <code class="docutils literal"><span class="pre">None</span></code>, the permutation is changed randomly.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of dataset splits.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of tuples</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="imagedataset">
<h3>ImageDataset<a class="headerlink" href="#imagedataset" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chainer.datasets.ImageDataset">
<em class="property">class </em><code class="descclassname">chainer.datasets.</code><code class="descname">ImageDataset</code><span class="sig-paren">(</span><em>paths</em>, <em>root='.'</em>, <em>dtype=&lt;type 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/image_dataset.html#ImageDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.ImageDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of images built from a list of paths to image files.</p>
<p>This dataset reads an external image file on every call of the
<code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code> operator. The paths to the image to retrieve is given
as either a list of strings or a text file that contains paths in distinct
lines.</p>
<p>Each image is automatically converted to arrays of shape
<code class="docutils literal"><span class="pre">channels,</span> <span class="pre">height,</span> <span class="pre">width</span></code>, where <code class="docutils literal"><span class="pre">channels</span></code> represents the number of
channels in each pixel (e.g., 1 for grey-scale images, and 3 for RGB-color
images).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>This dataset requires the Pillow package being installed.</strong> In order
to use this dataset, install Pillow (e.g. by using the command <code class="docutils literal"><span class="pre">pip</span>
<span class="pre">install</span> <span class="pre">Pillow</span></code>). Be careful to prepare appropriate libraries for image
formats you want to use (e.g. libpng for PNG images, and libjpeg for JPG
images).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>paths</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>list of strs</em>) – If it is a string, it is a path to a text
file that contains paths to images in distinct lines. If it is a
list of paths, the <code class="docutils literal"><span class="pre">i</span></code>-th element represents the path to the
<code class="docutils literal"><span class="pre">i</span></code>-th image. In both cases, each path is a relative one from the
root path given by another argument.</li>
<li><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Root directory to retrieve images from.</li>
<li><strong>dtype</strong> – Data type of resulting image arrays.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="labeledimagedataset">
<h3>LabeledImageDataset<a class="headerlink" href="#labeledimagedataset" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chainer.datasets.LabeledImageDataset">
<em class="property">class </em><code class="descclassname">chainer.datasets.</code><code class="descname">LabeledImageDataset</code><span class="sig-paren">(</span><em>pairs</em>, <em>root='.'</em>, <em>dtype=&lt;type 'numpy.float32'&gt;</em>, <em>label_dtype=&lt;type 'numpy.int32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/image_dataset.html#LabeledImageDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.LabeledImageDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset of image and label pairs built from a list of paths and labels.</p>
<p>This dataset reads an external image file like <a class="reference internal" href="#chainer.datasets.ImageDataset" title="chainer.datasets.ImageDataset"><code class="xref py py-class docutils literal"><span class="pre">ImageDataset</span></code></a>. The
difference from <a class="reference internal" href="#chainer.datasets.ImageDataset" title="chainer.datasets.ImageDataset"><code class="xref py py-class docutils literal"><span class="pre">ImageDataset</span></code></a> is that this dataset also returns a
label integer. The paths and labels are given as either a list of pairs or
a text file contains paths/labels pairs in distinct lines. In the latter
case, each path and corresponding label are separated by white spaces. This
format is same as one used in Caffe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>This dataset requires the Pillow package being installed.</strong> In order
to use this dataset, install Pillow (e.g. by using the command <code class="docutils literal"><span class="pre">pip</span>
<span class="pre">install</span> <span class="pre">Pillow</span></code>). Be careful to prepare appropriate libraries for image
formats you want to use (e.g. libpng for PNG images, and libjpeg for JPG
images).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pairs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>list of tuples</em>) – If it is a string, it is a path to a
text file that contains paths to images in distinct lines. If it is
a list of pairs, the <code class="docutils literal"><span class="pre">i</span></code>-th element represents a pair of the path
to the <code class="docutils literal"><span class="pre">i</span></code>-th image and the corresponding label. In both cases,
each path is a relative one from the root path given by another
argument.</li>
<li><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Root directory to retrieve images from.</li>
<li><strong>dtype</strong> – Data type of resulting image arrays.</li>
<li><strong>label_dtype</strong> – Data type of the labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="concrete-datasets">
<h2>Concrete datasets<a class="headerlink" href="#concrete-datasets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mnist">
<h3>MNIST<a class="headerlink" href="#mnist" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="chainer.datasets.get_mnist">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_mnist</code><span class="sig-paren">(</span><em>withlabel=True</em>, <em>ndim=1</em>, <em>scale=1.0</em>, <em>dtype=&lt;type 'numpy.float32'&gt;</em>, <em>label_dtype=&lt;type 'numpy.int32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/mnist.html#get_mnist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_mnist" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the MNIST dataset.</p>
<p><a class="reference external" href="http://yann.lecun.com/exdb/mnist/">MNIST</a> is a set of hand-written
digits represented by grey-scale 28x28 images. In the original images, each
pixel is represented by one-byte unsigned integer. This function
scales the pixels to floating point values in the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">scale]</span></code>.</p>
<p>This function returns the training set and the test set of the official
MNIST dataset. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, each dataset consists of
tuples of images and labels, otherwise it only consists of images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>withlabel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If <code class="docutils literal"><span class="pre">True</span></code>, it returns datasets with labels. In this
case, each example is a tuple of an image and a label. Otherwise,
the datasets only contain images.</li>
<li><strong>ndim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – <p>Number of dimensions of each image. The shape of each image
is determined depending on <code class="docutils literal"><span class="pre">ndim</span></code> as follows:</p>
<ul>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">1</span></code>: the shape is <code class="docutils literal"><span class="pre">(784,)</span></code></li>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">2</span></code>: the shape is <code class="docutils literal"><span class="pre">(28,</span> <span class="pre">28)</span></code></li>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">3</span></code>: the shape is <code class="docutils literal"><span class="pre">(1,</span> <span class="pre">28,</span> <span class="pre">28)</span></code></li>
</ul>
</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Pixel value scale. If it is 1 (default), pixels are
scaled to the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">1]</span></code>.</li>
<li><strong>dtype</strong> – Data type of resulting image arrays.</li>
<li><strong>label_dtype</strong> – Data type of the labels.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple of two datasets. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, both datasets
are <a class="reference internal" href="#chainer.datasets.TupleDataset" title="chainer.datasets.TupleDataset"><code class="xref py py-class docutils literal"><span class="pre">TupleDataset</span></code></a> instances. Otherwise, both
datasets are arrays of images.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="cifar10-100">
<h3>CIFAR10/100<a class="headerlink" href="#cifar10-100" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="chainer.datasets.get_cifar10">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_cifar10</code><span class="sig-paren">(</span><em>withlabel=True</em>, <em>ndim=3</em>, <em>scale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/cifar.html#get_cifar10"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_cifar10" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the CIFAR-10 dataset.</p>
<p><a class="reference external" href="https://www.cs.toronto.edu/~kriz/cifar.html">CIFAR-10</a> is a set of small
natural images. Each example is an RGB color image of size 32x32,
classified into 10 groups. In the original images, each component of pixels
is represented by one-byte unsigned integer. This function scales the
components to floating point values in the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">scale]</span></code>.</p>
<p>This function returns the training set and the test set of the official
CIFAR-10 dataset. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, each dataset consists of
tuples of images and labels, otherwise it only consists of images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>withlabel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If <code class="docutils literal"><span class="pre">True</span></code>, it returns datasets with labels. In this
case, each example is a tuple of an image and a label. Otherwise,
the datasets only contain images.</li>
<li><strong>ndim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – <p>Number of dimensions of each image. The shape of each image
is determined depending on ndim as follows:</p>
<ul>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">1</span></code>: the shape is <code class="docutils literal"><span class="pre">(3072,)</span></code></li>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">3</span></code>: the shape is <code class="docutils literal"><span class="pre">(3,</span> <span class="pre">32,</span> <span class="pre">32)</span></code></li>
</ul>
</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Pixel value scale. If it is 1 (default), pixels are
scaled to the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple of two datasets. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, both datasets
are <a class="reference internal" href="#chainer.datasets.TupleDataset" title="chainer.datasets.TupleDataset"><code class="xref py py-class docutils literal"><span class="pre">TupleDataset</span></code></a> instances. Otherwise, both
datasets are arrays of images.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.get_cifar100">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_cifar100</code><span class="sig-paren">(</span><em>withlabel=True</em>, <em>ndim=3</em>, <em>scale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/cifar.html#get_cifar100"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_cifar100" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the CIFAR-100 dataset.</p>
<p><a class="reference external" href="https://www.cs.toronto.edu/~kriz/cifar.html">CIFAR-100</a> is a set of
small natural images. Each example is an RGB color image of size 32x32,
classified into 100 groups. In the original images, each component
pixels is represented by one-byte unsigned integer. This function scales
the components to floating point values in the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">scale]</span></code>.</p>
<p>This function returns the training set and the test set of the official
CIFAR-100 dataset. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, each dataset consists of
tuples of images and labels, otherwise it only consists of images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>withlabel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If <code class="docutils literal"><span class="pre">True</span></code>, it returns datasets with labels. In this
case, each example is a tuple of an image and a label. Otherwise,
the datasets only contain images.</li>
<li><strong>ndim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – <p>Number of dimensions of each image. The shape of each image
is determined depending on ndim as follows:</p>
<ul>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">1</span></code>: the shape is <code class="docutils literal"><span class="pre">(3072,)</span></code></li>
<li><code class="docutils literal"><span class="pre">ndim</span> <span class="pre">==</span> <span class="pre">3</span></code>: the shape is <code class="docutils literal"><span class="pre">(3,</span> <span class="pre">32,</span> <span class="pre">32)</span></code></li>
</ul>
</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Pixel value scale. If it is 1 (default), pixels are
scaled to the interval <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple of two datasets. If <code class="docutils literal"><span class="pre">withlabel</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, both
are <a class="reference internal" href="#chainer.datasets.TupleDataset" title="chainer.datasets.TupleDataset"><code class="xref py py-class docutils literal"><span class="pre">TupleDataset</span></code></a> instances. Otherwise, both
datasets are arrays of images.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="penn-tree-bank">
<h3>Penn Tree Bank<a class="headerlink" href="#penn-tree-bank" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="chainer.datasets.get_ptb_words">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_ptb_words</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/ptb.html#get_ptb_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_ptb_words" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the Penn Tree Bank dataset as long word sequences.</p>
<p><a class="reference external" href="https://www.cis.upenn.edu/~treebank/">Penn Tree Bank</a> is originally a
corpus of English sentences with linguistic structure annotations. This
function uses a variant distributed at
<a class="reference external" href="https://github.com/tomsercu/lstm">https://github.com/tomsercu/lstm</a>,
which omits the annotation and splits the dataset into three parts:
training, validation, and test.</p>
<p>This function returns the training, validation, and test sets, each of
which is represented as a long array of word IDs. All sentences in the
dataset are concatenated by End-of-Sentence mark ‘&lt;eos&gt;’, which is treated
as one of the vocabulary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Int32 vectors of word IDs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of numpy.ndarray</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Use <a class="reference internal" href="#chainer.datasets.get_ptb_words_vocabulary" title="chainer.datasets.get_ptb_words_vocabulary"><code class="xref py py-func docutils literal"><span class="pre">get_ptb_words_vocabulary()</span></code></a> to get the mapping between the
words and word IDs.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="chainer.datasets.get_ptb_words_vocabulary">
<code class="descclassname">chainer.datasets.</code><code class="descname">get_ptb_words_vocabulary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chainer/datasets/ptb.html#get_ptb_words_vocabulary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chainer.datasets.get_ptb_words_vocabulary" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the Penn Tree Bank word vocabulary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>Dictionary that maps words to corresponding word IDs. The IDs are</dt>
<dd>used in the Penn Tree Bank long sequence datasets.</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See <a class="reference internal" href="#chainer.datasets.get_ptb_words" title="chainer.datasets.get_ptb_words"><code class="xref py py-func docutils literal"><span class="pre">get_ptb_words()</span></code></a> for the actual datasets.</p>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="iterators.html" class="btn btn-neutral float-right" title="Iterator examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="initializers.html" class="btn btn-neutral" title="Weight Initializers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Preferred Networks, inc. and Preferred Infrastructure, inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0.0b1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>